import{q,d as R,e as v,u as S,b as j,s as I,r as B,o as d,c as x,a as t,p as n,t as c,F as w,g as D,x as N,i as g}from"./index-1kqY1LnQ.js";const Q={class:"flex flex-col min-h-screen"},F=["src"],M=["onClick"],T={class:"text-slate-400"},V={class:"text-slate-400 ml-1"},z={key:1,class:"text-slate-400"},E={class:"absolute right-12 adjustRwd"},L=["onClick"],U=["value"],A=["onClick"],G=["onClick"],H=t("i",{class:"fa-regular fa-trash-can text-sm"},null,-1),J=[H],K={class:"bg-brown text-white rounded-lg text-center w-1/4 text-md h-10"},X={__name:"index",setup(O){const{t:f}=q(),l=R(),p=v(()=>l.cart||[]),y=S(),k=j(),m=I(),r=v(()=>m.isDarkTheme),o=B(Number(k.params.storeId)),h=s=>{y.push(s)},C=v(()=>{let s=0;for(const a of l.cart[o.value])s+=a.price*a.quantity;return s}),$=()=>{let s=0;for(const a of l.cart[o.value])s+=a.quantity;return s},_=(s,a)=>{l.cart[o.value].filter(e=>e.id===s),l.cart[o.value].filter(e=>e.id===s).map(e=>{if((e.quantity>1||a>0)&&(e.quantity+=a),e.quantity===1&&a<0)return e="",e})},P=(s,a,e,b)=>{const u=l.cart[o.value].filter(i=>i.id!==s||i.id===s&&i.temperature!==a||i.id===s&&i.sweetness!==e||i.id===s&&i.mealPreparation!==b);return l.cart[o.value]=u,l.cart};return(s,a)=>(d(),x(w,null,[t("header",null,[t("i",{class:"fa-solid fa-chevron-left mx-2",onClick:a[0]||(a[0]=e=>h("/cart"))})]),t("div",Q,[t("div",{class:n(["flex-1 bg-slate-200",{"!bg-black text-white":r.value}])},[t("p",{class:n(["my-2 text-black",{"text-white":r.value}])},"全部 "+c($())+" 筆",3),(d(!0),x(w,null,D(p.value[o.value],(e,b)=>(d(),x("div",{class:n(["flex items-center shadow-md my-3 py-2 rounded-lg bg-white mx-2 RwdModel",{"!bg-black text-white border-2 border-white border-solid":r.value}]),key:b},[t("img",{src:e.image,alt:"image",class:n(["h-20 relative",{"rounded-full mx-2 h-20 w-20 object-cover":r.value}])},null,10,F),t("div",{onClick:u=>h(`/store/${o.value}/product/${e.id}`)},[t("p",{class:n(["font-bold text-xl text-black",{"text-white":r.value}])},c(e.name),3),t("p",{class:n(["font-bold text-xl text-black",{"text-white":r.value}])},"$ "+c(e.price),3),e.category!=="找鹹的"&&e.category!=="找甜的"&&e.category!=="炸物點心"?(d(),x(w,{key:0},[t("span",T,c(e.temperature),1),t("span",V,c(e.sweetness),1)],64)):g("",!0),e.category==="找鹹的"||e.category==="找甜的"?(d(),x("span",z,c(e.mealPreparation),1)):g("",!0)],8,M),t("div",E,[t("button",{class:"rounded-l-md w-6 text-white bg-brown",onClick:u=>_(e.id,-1)},"-",8,L),t("input",{type:"text",class:"w-10 text-center text-black",value:e.quantity},null,8,U),t("button",{class:"rounded-r-md w-6 text-white bg-brown",onClick:u=>_(e.id,1)},"+",8,A)]),t("div",{class:"cursor-pointer absolute right-6 deleteRwd",onClick:u=>P(e.id,e.temperature,e.sweetness,e.mealPreparation)},J,8,G)],2))),128)),t("div",{class:n(["flex items-center shadow-md my-3 py-2 justify-between px-7 mx-2 rounded-lg bg-white RwdModel",{"!bg-black text-white border-2 border-white border-solid":r.value}])},[t("p",{class:n(["text-lg font-bold text-black",{"text-white":r.value}])},"合計：$ "+c(C.value),3),t("div",K,[t("button",{onClick:a[1]||(a[1]=e=>h(`/order/storeId/${o.value}`)),class:"pt-2"},c(N(f)("go_pay")),1)])],2)],2)])],64))}};export{X as default};

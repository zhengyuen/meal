import{y as v,q as x,s as y,k,r as D,u as S,z as T,f as j,o as B,j as C,w as L,a as s,t as d,x as i,l as p,v as m,m as h}from"./index-1kqY1LnQ.js";const M={login:async(c,n)=>{const{data:l,status:e}=await v.post("https://dummyjson.com/auth/login",{username:c,password:n});return console.log(l),{data:l,code:e}}},U={class:"flex mt-3 justify-between mx-2"},V={class:"text-center mt-20",id:"RwdModel"},$={class:"font-bold text-2xl mb-5"},R=["placeholder"],q=["placeholder"],z=["disabled"],H={__name:"index",setup(c){const{t:n}=x(),l=y(),e=k({username:"",password:""}),f=D(l.token),r=S(),g=()=>{r.push("/")},w=o=>{r.push(o)},_=()=>{r.push("/logout")},b=async o=>{o.preventDefault();try{const{code:t,data:u}=await M.login(e.username,e.password);if(t===200){const{token:a}=u;l.setToken(a),h.success("登入成功"),g()}}catch{h.error("使用者名稱或密碼失敗")}};return T(()=>{f.value&&_()}),(o,t)=>{const u=j("mealLayout");return B(),C(u,null,{default:L(()=>[s("header",null,[s("div",U,[s("i",{class:"fa-solid fa-chevron-left",onClick:t[0]||(t[0]=a=>w("/"))}),s("p",null,d(i(n)("help")),1)])]),s("div",V,[s("p",$,d(i(n)("member_login")),1),s("form",{action:"",onSubmit:b},[p(s("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>e.username=a),type:"username",placeholder:o.$t("input_cellphone"),class:"w-80 h-10 rounded-full bg-slate-200 pl-6 text-black",id:"username"},null,8,R),[[m,e.username,void 0,{trim:!0}]]),p(s("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>e.password=a),type:"password",placeholder:o.$t("input_password"),class:"w-80 h-10 rounded-full bg-slate-200 mt-3 pl-6 text-black",id:"password"},null,8,q),[[m,e.password,void 0,{trim:!0}]]),s("button",{class:"w-80 h-10 bg-orange-400 rounded-full mt-7 disabled:bg-orange-200",type:"submit",disabled:!e.username||!e.password},d(i(n)("login")),9,z)],32)])]),_:1})}}};export{H as default};

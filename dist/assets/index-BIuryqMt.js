import{q as U,s as z,e as d,u as B,d as T,r as k,f as w,o as l,c as r,a as t,l as q,v as G,p as V,t as n,x as _,h as m,w as v,F as h,g as $,j as I,_ as M}from"./index-CiFnpk3Y.js";const j=t("i",{class:"fa-solid fa-magnifying-glass absolute top-1/2 -translate-y-1/2 left-12 text-black"},null,-1),A=["placeholder"],E={class:"text-xl font-bold mt-10 pl-3"},F={key:1,class:"ml-5 text-center text-lg"},H={class:"flex"},L=t("img",{src:"https://life.ntpu.edu.tw/upload/2022092711003130rlm1.png",alt:"",class:"w-14 h-14"},null,-1),R={class:"ml-2"},X={class:"font-bold text-xl"},Y={class:"flex mb-2"},J={class:"bg-slate-200 rounded-sm text-black px-2"},O={class:"bg-slate-200 text-black ml-3 rounded-md px-2"},Q=t("i",{class:"fa-solid fa-star text-yellow-400 mr-1"},null,-1),W=["onClick"],Z={class:"border-2 border-solid border-slate-300 w-40 h-44 my-2 ml-2"},ee=["src"],se={class:"text-center"},te=t("i",{class:"fa-solid fa-circle-chevron-right text-lg ml-2"},null,-1),oe={key:1,class:"ml-5 text-center text-lg"},re={__name:"index",setup(ae){const{t:p}=U(),C=z(),f=d(()=>C.isDarkTheme),K=B(),b=T(),N=d(()=>b.stores.filter(e=>e.name.includes(a.value))),g=d(()=>{const e=[];for(const o of b.stores)for(const i of o.products)e.push({...i,storeId:o.id,storeName:o.name,business_hours:o.business_hours,score:o.score});return e});d(()=>g.value.filter(e=>e.name.includes(a.value)));const x=e=>{K.push(e)},c=k("stores"),a=k(""),S=e=>{c.value=e},u=d(()=>{if(c.value==="stores")return N.value.filter(e=>e.name.includes(a.value))||[];if(c.value==="products")return g.value.filter(e=>e.name.includes(a.value))||[]}),D=e=>{e.keyCode===13&&u.value};return(e,o)=>{const i=w("a-tab-pane"),P=w("a-tabs");return l(),r(h,null,[t("div",{class:V(["text-center px-8 fixed z-10 w-full",[{"bg-black text-black":f.value}]])},[j,q(t("input",{type:"text",class:"py-1 mb-1 border-2 border-gray border-solid rounded-full w-full pl-8",placeholder:e.$t("search_all"),"onUpdate:modelValue":o[0]||(o[0]=s=>a.value=s),onKeydown:D},null,40,A),[[G,a.value]])],2),t("p",E,"#"+n(_(p)("search_result")),1),m(P,{activeKey:c.value,"onUpdate:activeKey":o[3]||(o[3]=s=>c.value=s),class:V(["px-1",[{"text-white":f.value}]]),onChange:S},{default:v(()=>[m(i,{key:"stores",tab:e.$t("store"),modelValue:a.value,"onUpdate:modelValue":o[1]||(o[1]=s=>a.value=s)},{default:v(()=>[u.value.length?(l(!0),r(h,{key:0},$(u.value,s=>(l(),I(M,{key:s,name:s.name,time:s.business_hours,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRio9-XKHqz6oLzNr5YuTMHgmcebMXfAEoegg&s",onGoProducts:y=>x(`/store/${s.id}/products`)},null,8,["name","time","onGoProducts"]))),128)):(l(),r("p",F,n(_(p)("no_result")),1))]),_:1},8,["tab","modelValue"]),m(i,{key:"products",tab:e.$t("product"),modelValue:a.value,"onUpdate:modelValue":o[2]||(o[2]=s=>a.value=s)},{default:v(()=>[u.value.length?(l(!0),r(h,{key:0},$(u.value,(s,y)=>(l(),r("div",{key:y,class:"my-2"},[t("div",H,[L,t("div",R,[t("p",X,n(s.storeName),1),t("div",Y,[t("span",J,n(s.business_hours),1),t("div",O,[Q,t("span",null,n(s.score),1)])])])]),t("div",{class:"inline-block",onClick:le=>x(`/store/${s.storeId}/product/${s.id}`)},[t("div",Z,[t("img",{src:s.image,alt:"",class:"w-32 h-32 object-cover"},null,8,ee),t("p",se,n(s.name),1)])],8,W),te]))),128)):(l(),r("p",oe,n(_(p)("no_result")),1))]),_:1},8,["tab","modelValue"])]),_:1},8,["activeKey","class"])],64)}}};export{re as default};

import{u as B,b as D,d as F,r as p,e as N,k as H,f as T,o as u,c as d,a as e,t as m,F as v,g as h,i as w,l as j,v as z,m as E,h as f,w as y,n as x,p as k}from"./index-1kqY1LnQ.js";const G={class:"font-bold text-lg ml-1"},L={class:"mx-auto"},U=["src"],A={class:"mb-5 px-3 RwdModel"},J=e("h1",{class:"font-bold"},"溫度",-1),K={class:"text-center mb-5"},O=e("h1",{class:"font-bold"},"甜度",-1),Q={class:"text-center mb-5"},W={key:0,class:"mb-5 px-3 RwdModel"},X=e("h1",{class:"font-bold"},"備餐方式",-1),Y={class:"text-center mb-5"},Z={key:1,class:"font-bold mb-3 px-3 RwdModel"},ee=e("hr",null,null,-1),te={class:"px-2 RwdModel"},se={class:"my-5"},ae={class:"w-[112px] my-5 bg-lightGray text-black"},le={__name:"index",setup(oe){const P=B(),g=D(),r=F(),_=p(Number(g.params.id)),a=p(Number(g.params.storeId)),b=N(()=>r.stores.find(i=>i.id===a.value)),o=N(()=>b.value.products.find(i=>i.id===_.value));p(r.cart||[]);const R=()=>{P.push(`/store/${a.value}/products`)},n=p(1),I=()=>{n.value+=1},M=()=>{n.value>1&&(n.value-=1)},s=H({temperature:"正常冰",sweetness:"正常糖",mealPreparation:"熱-到做"}),V=["正常冰","少冰","去冰","常溫","溫","熱"],$=["正常糖","七分糖","半糖","三分糖","無糖"],S=["熱-到做","熱-先做","常溫餅","內用"],q=()=>{if(r.cart[a.value])if(r.cart[a.value].some(l=>l.id===_.value&&l.sweetness===s.sweetness&&l.temperature===s.temperature&&l.mealPreparation===s.mealPreparation)){const l=r.cart[a.value].find(c=>c.id===_.value&&c.sweetness===s.sweetness&&c.temperature===s.temperature&&c.mealPreparation===s.mealPreparation);l.quantity+=1}else r.setCart({...r.cart,[a.value]:[...r.cart[a.value],{...o.value,storeId:a.value,quantity:n.value,storeName:b.value.name,temperature:s.temperature,sweetness:s.sweetness,mealPreparation:s.mealPreparation}]});else r.setCart({...r.cart,[a.value]:[{...o.value,storeId:a.value,quantity:n.value,storeName:b.value.name,temperature:s.temperature,sweetness:s.sweetness,mealPreparation:s.mealPreparation}]});P.push(`/store/${a.value}/products`),E.success("已加入購物車")};return(i,l)=>{const c=T("a-button");return u(),d(v,null,[e("header",{class:"pl-2"},[e("i",{class:"fa-solid fa-chevron-left",onClick:R})]),e("h1",G,m(o.value.name),1),e("div",L,[e("img",{src:o.value.image,alt:"image",class:"h-1/2 mx-auto"},null,8,U)]),e("div",A,[o.value.category!=="找鹹的"&&o.value.category!=="找甜的"&&o.value.category!=="炸物點心"?(u(),d(v,{key:0},[J,e("div",K,[(u(),d(v,null,h(V,t=>f(c,{colorPrimaryHover:i.none,key:t,value:t,onClick:C=>s.temperature=t,class:k([["mr-2 last:mr-0",{"border-2 border-brown border-solid":t===s.temperature}],"mr-3 mt-3 w-20"])},{default:y(()=>[x(m(t),1)]),_:2},1032,["colorPrimaryHover","value","onClick","class"])),64))]),O,e("div",Q,[(u(),d(v,null,h($,t=>f(c,{key:t,value:t,onClick:C=>s.sweetness=t,class:k([["mr-2 last:mr-0",{"border-2 border-brown border-solid":t===s.sweetness}],"mr-3 mt-3 w-20"])},{default:y(()=>[x(m(t),1)]),_:2},1032,["value","onClick","class"])),64))])],64)):w("",!0)]),o.value.category==="找鹹的"||o.value.category==="找甜的"?(u(),d("div",W,[X,e("div",Y,[(u(),d(v,null,h(S,t=>f(c,{key:t,value:t,onClick:C=>s.mealPreparation=t,class:k([["mr-2 last:mr-0",{"border-2 border-brown border-solid":t===s.mealPreparation}],"mr-3 mt-3 w-20"])},{default:y(()=>[x(m(t),1)]),_:2},1032,["value","onClick","class"])),64))])])):w("",!0),o.value.category==="炸物點心"?(u(),d("h1",Z,"此商品不需調整比例")):w("",!0),ee,e("div",te,[e("h1",se,"總金額："+m(n.value*o.value.price)+" 元",1),e("div",ae,[e("button",{class:"rounded-l-md w-6",onClick:M},"-"),j(e("input",{type:"text",class:"w-16 text-center","onUpdate:modelValue":l[0]||(l[0]=t=>n.value=t)},null,512),[[z,n.value]]),e("button",{class:"rounded-r-md w-6",onClick:I},"+")]),e("div",{class:"bg-brown h-10 text-white flex my-5 justify-center rounded-md px-5 mb-10"},[e("button",{onClick:q},"加入購物車")])])],64)}}};export{le as default};
